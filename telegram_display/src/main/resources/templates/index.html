<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- 引入样式 -->
    <link rel="stylesheet" th:href="@{/layui/css/layui.css}">
</head>
<body>

<!-- 内容主体区域 -->
<div class="layui-container">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
        <legend>首页</legend>
    </fieldset>
    <table class="layui-hide" id="test" lay-filter="test"></table>
</div>

<!-- 引入组件库 -->
<script th:src="@{/layui/layui.js}"></script>

<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-xs" lay-event="detail">查看详情</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>

<script>
    layui.use('table', function () {
        var table = layui.table;

        table.render({
            elem: '#test'
            , url: '/api/phones'
            , cellMinWidth: 80
            , toolbar: true
            , title: '数据表'
            , cols: [
                [
                    {type: 'checkbox'},
                    {field: 'id', title: 'ID', sort: true},
                    {field: 'phone', title: 'phone'},
                    {field: 'status', title: 'status'},
                    {field: 'category', title: 'category'},
                    {fixed: 'right', title: '操作', toolbar: '#barDemo'}
                ]
            ]
            , page: true
            , response: {
                statusCode: 200 //重新规定成功的状态码为 200，table 组件默认为 0
            }
        });
        table.on('tool(test)', function (obj) {
            var data = obj.data;
            if (obj.event === "detail") {
                window.location.href = '/user?phone=' + data.phone;
            } else if (obj.event === "del") {
                layer.confirm('真的删除行么', function (index) {
                    obj.del();
                    layer.close(index);
                });
            }
        });
    });
</script>
</body>
</html>